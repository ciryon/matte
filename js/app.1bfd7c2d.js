(function(){"use strict";var e={2113:function(e,t,n){var r=n(9242),s=n(3396);const a={class:"container"};function o(e,t,n,r,o,i){const l=(0,s.up)("GameBeforeStart"),u=(0,s.up)("Matte");return(0,s.wg)(),(0,s.iD)("div",a,[o.username?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(l,{key:0,didSaveUsername:i.didSaveUsername},null,8,["didSaveUsername"])),o.username?((0,s.wg)(),(0,s.j4)(u,{key:1,username:o.username},null,8,["username"])):(0,s.kq)("",!0)])}var i=n(7139);const l=e=>((0,s.dD)("data-v-7f01396c"),e=e(),(0,s.Cn)(),e),u={key:0,class:"card mt-3"},c={class:"card-body d-flex justify-content-center"},d={class:"d-flex align-items-center"},m=l((()=>(0,s._)("span",null,"Multiplikationstabell:",-1))),h={class:"card-body d-flex justify-content-center"},p={key:1,class:"card mt-3"},g={class:"card-body"},b=l((()=>(0,s._)("h3",null,"Tiden är ute!",-1))),f={key:2},v={class:"card"},w={class:"card-header d-flex justify-content-between"},_={class:"d-flex"},y={class:"text-info me-3"},k={class:"ms-3"},S={key:0,class:"task mt-3 d-flex justify-content-center"},C={class:"mt-3"},P={key:0,class:"card-footer d-flex align-items-center justify-content-center"},D={key:1,class:"mt-5 mb-5 ms-5 me-5"},j={class:"answer-info col col-md-6"},x={key:0},H={key:0,class:"col"};function U(e,t,n,a,o,l){const U=(0,s.up)("HighScore");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.started||o.roundEnded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",c,[(0,s._)("div",d,[m,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.currentTable=e),onChange:t[1]||(t[1]=(...e)=>l.getNewProblem&&l.getNewProblem(...e)),min:"0",max:"12",type:"number",class:"ms-3 form-control table-input"},null,544),[[r.nr,o.currentTable]])])]),(0,s._)("div",h,[(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>l.didStart&&l.didStart(...e)),class:"btn btn-lg btn-rounded btn-primary"}," STARTA! ")])])),o.roundEnded?((0,s.wg)(),(0,s.iD)("div",p,[(0,s._)("div",g,[b,o.highscore?((0,s.wg)(),(0,s.j4)(U,{key:0,highscore:o.highscore},null,8,["highscore"])):(0,s.kq)("",!0),(0,s._)("button",{onClick:t[3]||(t[3]=(...e)=>l.didStart&&l.didStart(...e)),class:"btn btn-lg btn-rounded btn-primary"}," Prova igen ")])])):(0,s.kq)("",!0),o.started&&!o.roundEnded?((0,s.wg)(),(0,s.iD)("div",f,[(0,s._)("div",v,[(0,s._)("div",w,[(0,s._)("div",_,[(0,s._)("span",y,(0,i.zw)(n.username),1),(0,s._)("span",null,[(0,s.Uk)("Poäng: "),(0,s._)("b",null,(0,i.zw)(o.points),1)]),(0,s._)("span",k,[(0,s.Uk)("Streak: "),(0,s._)("b",null,(0,i.zw)(o.streak),1)])]),(0,s._)("h5",{class:(0,i.C_)(o.timerCount<=10?"text-danger":"text-muted")},(0,i.zw)(o.timerCount),3)]),o.currentProblem?((0,s.wg)(),(0,s.iD)("div",S,[(0,s._)("div",null,[(0,s._)("h3",C,(0,i.zw)(o.currentProblem.title),1)])])):(0,s.kq)("",!0),(0,s._)("div",null,[o.didRespond?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",P,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>o.answer=e),class:"form-control me-4 answer-input",min:"0",max:"144",onKeyup:t[5]||(t[5]=(0,r.D2)(((...e)=>l.answerToProblem&&l.answerToProblem(...e)),["enter"]))},null,544),[[r.nr,o.answer]]),null!==o.answer?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[6]||(t[6]=(...e)=>l.answerToProblem&&l.answerToProblem(...e)),class:"btn btn-rounded btn-primary"}," Svara ")):(0,s.kq)("",!0)])),o.didRespond?((0,s.wg)(),(0,s.iD)("div",D,[(0,s._)("div",{class:(0,i.C_)(["alert row",l.answerIsCorrect?"alert-success":"alert-danger"])},[(0,s._)("div",j,[(0,s._)("h4",null," Ditt svar "+(0,i.zw)(o.answer)+" är "+(0,i.zw)(l.answerIsCorrect?"RÄTT":"FEL")+"! ",1),l.answerIsCorrect?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",x,"Rätt svar var "+(0,i.zw)(l.solution),1)),(0,s._)("button",{onClick:t[7]||(t[7]=(...e)=>l.getNewProblem&&l.getNewProblem(...e)),class:(0,i.C_)("mt-3 btn btn-rounded btn-"+(l.answerIsCorrect?"success":"danger"))}," Ny uppgift ",2)]),o.highscore?((0,s.wg)(),(0,s.iD)("div",H,[(0,s.Wm)(U,{highscore:o.highscore},null,8,["highscore"])])):(0,s.kq)("",!0)],2)])):(0,s.kq)("",!0)])])])):(0,s.kq)("",!0)],64)}const O=(0,s._)("h4",null,"High score",-1),T={class:"table"},I=(0,s._)("tr",null,[(0,s._)("th",null,"Spelare"),(0,s._)("th",null,"Poäng")],-1);function q(e,t,n,r,a,o){return(0,s.wg)(),(0,s.iD)("div",null,[O,(0,s._)("table",T,[I,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sortedHighscore,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.username},[(0,s._)("td",null,(0,i.zw)(e.username),1),(0,s._)("td",null,(0,i.zw)(e.points),1)])))),128))])])}n(7658);var z={name:"HighScore",props:{highscore:Object},data(){return{username:null}},computed:{sortedHighscore(){return Object.keys(this.highscore).reduce(((e,t)=>{const n={username:t,...this.highscore[t]};return e.push(n),e}),[]).sort(((e,t)=>t.points-e.points))}}},E=n(89);const N=(0,E.Z)(z,[["render",q]]);var R=N,M={name:"MatteComponent",props:{username:String},components:{HighScore:R},data(){return{roundDuration:60,started:!1,roundEnded:!1,timerCount:0,timeEllapsed:0,points:0,streak:0,currentTable:8,currentProblem:null,answer:null,didRespond:!1,highscore:null}},mounted(){},computed:{answerIsCorrect(){return!(!this.currentProblem||null===this.answer)&&this.answer===this.solution},solution(){return this.currentProblem&&null!==this.answer?this.currentProblem.first*this.currentProblem.second:0}},watch:{timerCount:{handler(e){e>0?setTimeout((()=>{this.timerCount--}),1e3):(this.roundEnded=!0,this.createHighscore())},immediate:!1}},methods:{createHighscore(){const e=JSON.parse(localStorage.getItem("matteHighscore")||"{}");e&&Object.keys(e).length&&(this.highscore=e)},didStart(){this.getNewProblem(),this.started=!0,this.roundEnded=!1,this.timerCount=this.roundDuration},getNewProblem(){this.didRespond=!1,this.answer=null,this.highscore=null;const e=Math.round(10*Math.random(10)),t=this.currentTable;this.currentProblem={first:e,second:t,title:`Vad är ${e} · ${t} ?`}},answerToProblem(){this.didRespond=!0,this.answerIsCorrect?(this.points++,this.streak++,this.saveHighscore()):(this.streak=0,this.createHighscore())},saveHighscore(){const e=JSON.parse(localStorage.getItem("matteHighscore")||"{}");(!e[this.username]||e[this.username].points<this.points)&&(e[this.username]={points:this.points}),localStorage.setItem("matteHighscore",JSON.stringify(e))}}};const V=(0,E.Z)(M,[["render",U],["__scopeId","data-v-7f01396c"]]);var F=V;const G=e=>((0,s.dD)("data-v-72146fd4"),e=e(),(0,s.Cn)(),e),Z={class:"card"},A={class:"card-body"},B={class:"mb-3"},J=G((()=>(0,s._)("label",{for:"username",class:"form-label"},"Vad heter du?",-1))),K=G((()=>(0,s._)("div",{id:"usernameHelp",class:"form-text"},"För highscore-listan ju!",-1)));function Y(e,t,n,a,o,i){return(0,s.wg)(),(0,s.iD)("div",Z,[(0,s._)("div",A,[(0,s._)("div",B,[J,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),onKeyup:t[1]||(t[1]=(0,r.D2)(((...e)=>i.saveUsername&&i.saveUsername(...e)),["enter"])),type:"username",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"},null,544),[[r.nr,o.username]]),K]),(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>i.saveUsername&&i.saveUsername(...e)),class:"btn btn-primary"},"Go!")])])}var $={name:"GameBeforeStart",props:{didSaveUsername:Function},data(){return{username:null}},mounted(){const e=localStorage.getItem("matteUsername");e&&(this.username=e)},methods:{saveUsername(){localStorage.setItem("matteUsername",this.username),this.didSaveUsername(this.username)}}};const L=(0,E.Z)($,[["render",Y],["__scopeId","data-v-72146fd4"]]);var W=L,Q={name:"App",data(){return{username:null}},components:{Matte:F,GameBeforeStart:W},methods:{didSaveUsername(e){this.username=e}}};const X=(0,E.Z)(Q,[["render",o]]);var ee=X;(0,r.ri)(ee).mount("#app")}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,s,a){if(!r){var o=1/0;for(c=0;c<e.length;c++){r=e[c][0],s=e[c][1],a=e[c][2];for(var i=!0,l=0;l<r.length;l++)(!1&a||o>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(i=!1,a<o&&(o=a));if(i){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,s,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,a,o=r[0],i=r[1],l=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(l)var c=l(n)}for(t&&t(r);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},r=self["webpackChunkmatte"]=self["webpackChunkmatte"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(2113)}));r=n.O(r)})();
//# sourceMappingURL=app.1bfd7c2d.js.map